{% extends 'base.html' %}
{% block content %}
    <!-- Recipe Title -->
    <div class="section">
        <div class="row">
            <div class="col s12 m8 offset-m2 center recipe-title">
                <h4>{{ current_recipe.name|upper }}</h4>
            </div>
        </div>
    </div>
    <!--Author and ratings -->
    <div class="section">
        <div class="row">
            <div class="col s12 m3 ">
                <!-- Author image -->
                <div class="col s6 center">
                    <img class="recipe-author-img" src="{{ current_recipe_author.profile_image }}"
                         alt="Recipe author image">
                </div>
                <!-- Author info -->
                <div class="col s6 recipe-author-details">
                    <p><strong>by {{ current_recipe_author.username }}</strong></p>
                    <p><em>updated {{ current_recipe.date_updated }}</em></p>
                </div>
            </div>

            <!-- Socials -->
            <div class="col s12 m6">
                <div class="col s12 m6">
                    <a class="waves-effect waves-light btn btn-flat recipe-social"><i
                            class="material-icons left">stars</i>rate</a>
                </div>
                <div class="col s12 m6">
                    <a class="waves-effect waves-light btn btn-flat recipe-social"><i class="material-icons left">
                        favorite</i>favorite</a>
                </div>
                <div class="col s12 m6">
                    <a class="waves-effect waves-light btn btn-flat recipe-social"><i
                            class="material-icons left">share</i>share</a>
                </div>
                <div class="col s12 m6">
                    <a class="waves-effect waves-light btn btn-flat recipe-social"><i
                            class="material-icons left">print</i>print</a>
                </div>
            </div>
            <!-- Recipe rating -->
            <div class="col s12 m3 ">
                <div class="row">
                    <div class="col s12 rating-box">
                        <!-- displays correct number of shaded/unshaded stars -->
                        {% for i in range(1,6) %}
                            {% if current_recipe.current_rating|int < i %}
                                <i class="material-icons yellow-text left recipe-rating">star_border</i>
                            {% else %}
                                <i class="material-icons yellow-text left recipe-rating">star</i>
                            {% endif %}
                        {% endfor %}
                        <span class="left">({{ current_recipe.total_ratings }})</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Recipe image -->
    <div class="section">
        <div class="row">
            <div class="col s12 m8 offset-m2">
                <img class="main-recipe-img" src="{{ current_recipe.image_url }}" alt="Recipe image">
            </div>
        </div>
        <!--Recipe timings -->
        <div class="row">
            <div class="col s12 m8 offset-m2 ">
                <div class="col s4 center">
                    <i class="material-icons">query_builder</i>
                    <p class="recipe-time">{{ current_recipe.preptime_hrs }}h{{ current_recipe.preptime_min }}m</p>
                    <p class="recipe-time-heading">PREP</p>
                </div>
                <div class="col s4 center">
                    <i class="material-icons">hourglass_empty</i>
                    <p class="recipe-time">{{ current_recipe.cooktime_hrs }}h{{ current_recipe.cooktime_min }}m</p>
                    <p class="recipe-time-heading">COOK</p>
                </div>
                <div class="col s4 center">
                    <i class="material-icons">restaurant</i>
                    <p class="recipe-time">{{ current_recipe.serves }}</p>
                    <p class="recipe-time-heading">SERVES</p>
                </div>
            </div>
        </div>
    </div>
    <!--Recipe description -->
    <div class="section">
        <div class="row">
            <div class="col s12 m8 offset-m2 ">
                <p>{{ current_recipe.description }}</p>
            </div>
        </div>
    </div>
    <!-- Ingredients -->
    <div class="section">
        <div class="row">
            <div class="col s12 m8 offset-m2 ">
                <h4>Ingredients</h4>
                <ul>
                    {% for ingredient in current_recipe_ingredients %}
                        <li class="ingredient">{{ ingredient.ingredient_item }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
    <!-- Methods -->
    <div class="section">
        <div class="row">
            <div class="col s12 m8 offset-m2 ">
                <h4>Methods</h4>
                <ul>
                    {% for method in current_recipe_methods %}
                        <li class="method"><span class="method-num">{{ loop.index }}.</span> {{ method.method_name }}
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <!-- Notes -->
    <div class="section">
        <div class="row">
            <div class="col s12 m8 offset-m2">
                <h5>Notes</h5>
                <blockquote>
                    {{ current_recipe.notes }}
                </blockquote>
            </div>
        </div>
    </div>

{% endblock %}