{% extends 'base.html' %}

{% block content %}

    <div class="section">
        <!-- Title -->
        <div class="row">
            <div class="col s12 m8 offset-m2 l6 offset-l3 xl4 offset-xl4 center sign-in-header">
                <h4>Register</h4>
            </div>
        </div>
        <!-- Form -->
        <div class="row">
            <form method="POST" action="{{ url_for('register') }}"
                  class="col s12 m8 offset-m2 l6 offset-l3 xl4 offset-xl4">
                <div class="row">

                    <!-- Username field-->
                    <div class="input-field col s12">
                        <i class="material-icons prefix">account_circle</i>
                        <!-- if user exists show error -->
                        {% if exists == True %}
                            <input id="icon_username" type="text" class="validate invalid" name="username" minlength="3"
                                   maxlength="15" data-length="10" required>
                            <label for="icon_username">Username</label>
                            <span class="helper-text" data-error="user already exists!"
                                  data-success="correct">3 - 15 characters</span>
                        {% else %}
                            <input id="icon_username" type="text" class="validate" name="username" minlength="3"
                                   maxlength="15" data-length="10" required>
                            <label for="icon_username">Username</label>
                            <span class="helper-text" data-error="incorrect"
                                  data-success="correct">3 - 15 characters</span>
                        {% endif %}
                    </div>

                    {% if mismatch_pw == True %}
                        <!-- Password field-->
                        <div class="input-field col s12 ">
                            <i class="material-icons prefix ">vpn_key</i>
                            <input id="icon_password" type="password" class="validate invalid" name="password"
                                   minlength="5"
                                   required>
                            <label for="icon_password">Password</label>
                            <span class="helper-text" data-error="password mismatch!"
                                  data-success="correct">min 5 characters</span>
                        </div>

                        <!-- Confirm Password field-->
                        <div class="input-field col s12 ">
                            <i class="material-icons prefix ">vpn_key</i>
                            <input id="icon_password" type="password" class="validate invalid" name="confirm-password"
                                   minlength="5"
                                   required>
                            <label for="icon_password">Confirm Password</label>
                            <span class="helper-text" data-error="password mismatch!"
                                  data-success="correct">min 5 characters</span>
                        </div>

                    {% else %}
                        <!-- Password field-->
                        <div class="input-field col s12 ">
                            <i class="material-icons prefix ">vpn_key</i>
                            <input id="icon_password" type="password" class="validate" name="password" minlength="5"
                                   required>
                            <label for="icon_password">Password</label>
                            <span class="helper-text" data-error="incorrect"
                                  data-success="correct">min 5 characters</span>
                        </div>

                        <!-- Confirm Password field-->
                        <div class="input-field col s12 ">
                            <i class="material-icons prefix ">vpn_key</i>
                            <input id="icon_password" type="password" class="validate" name="confirm-password"
                                   minlength="5"
                                   required>
                            <label for="icon_password">Confirm Password</label>
                            <span class="helper-text" data-error="incorrect"
                                  data-success="correct">min 5 characters</span>
                        </div>

                    {% endif %}



                    <div class="col s12 center">
                        <!-- Submit button -->
                        <button class="btn waves-effect waves-light grey darken-3 grey-text text-lighten-2
                        sign-in-btn" type="submit" name="action">Register
                        </button>
                    </div>


            </form>
        </div>

        <!-- link to sign up form-->
        <div class="row">
            <div class="col s12 m8 offset-m2 l6 offset-l3 xl4 offset-xl4 center">
                <p>Already have an account? <a href="{{ url_for('sign_in') }}">Sign in here.</a></p>
            </div>
        </div>
    </div>
          <!-- Custom JS -->
    {% block script_content %}
        <script>
            let home = document.getElementById("login");
            home.classList.add("active");
        </script>
    {% endblock %}

{% endblock %}